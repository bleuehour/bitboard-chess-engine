#pragma once


#include "global.h"
#include "hash.h"

static U64 nodes = 0ULL;

#define max_ply 64

#define infinity 50000
#define mate_value 49000
#define mate_score 48000


static int mvv_lva[12][12] = {
 	105, 205, 305, 405, 505, 605,  105, 205, 305, 405, 505, 605,
	104, 204, 304, 404, 504, 604,  104, 204, 304, 404, 504, 604,
	103, 203, 303, 403, 503, 603,  103, 203, 303, 403, 503, 603,
	102, 202, 302, 402, 502, 602,  102, 202, 302, 402, 502, 602,
	101, 201, 301, 401, 501, 601,  101, 201, 301, 401, 501, 601,
	100, 200, 300, 400, 500, 600,  100, 200, 300, 400, 500, 600,

	105, 205, 305, 405, 505, 605,  105, 205, 305, 405, 505, 605,
	104, 204, 304, 404, 504, 604,  104, 204, 304, 404, 504, 604,
	103, 203, 303, 403, 503, 603,  103, 203, 303, 403, 503, 603,
	102, 202, 302, 402, 502, 602,  102, 202, 302, 402, 502, 602,
	101, 201, 301, 401, 501, 601,  101, 201, 301, 401, 501, 601,
	100, 200, 300, 400, 500, 600,  100, 200, 300, 400, 500, 600
};


// killer moves [id][ply]
static int killer_moves[2][64];

// history moves [piece][square]
static int history_moves[12][64];

// pv length
static int pv_length[64];

static int pv_table[64][64];

static int follow_pv, score_pv;

const int full_depth_moves = 4;
const int reduction_limit = 3;
void search_position(int depth);
int score_move(int move);